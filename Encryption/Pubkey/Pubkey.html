<!DOCTYPE HTML>

<html class="sidebar-visible no-js light" lang="zh-Hant">
<head>
<!-- Book generated using mdBook -->
<meta charset="utf-8"/>
<title>[翻譯] 公鑰加密簡介 - privacy.noarch</title>
<!-- Custom HTML head -->
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="一本面向新手的隱私教程" name="description"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="#ffffff" name="theme-color">
<link href="../../favicon.png" rel="shortcut icon"/>
<link href="../../css/variables.css" media="print" onload="this.media='all'" rel="stylesheet"/>
<noscript><link href="../../css/variables.css" rel="stylesheet"/></noscript>
<link href="../../css/general.css" rel="stylesheet"/>
<link href="../../css/chrome.css" rel="stylesheet"/>
<!-- Font Awesome 5.13 free content -->
<link href="../../FontAwesome/css/all.css" media="print" onload="this.media='all'" rel="stylesheet"/>
<link href="../../FontAwesome/css/v4-shims.css" media="print" onload="this.media='all'" rel="stylesheet"/>
<noscript>
<link href="../../FontAwesome/css/all.css" rel="stylesheet"/>
<link href="../../FontAwesome/css/v4-shims.css" rel="stylesheet"/>
</noscript>
<!-- Fonts -->
<!-- Highlight.js Stylesheets -->
<link href="../../highlight.css" media="print" onload="this.media='all'" rel="stylesheet"/>
<link href="../../tomorrow-night.css" media="print" onload="this.media='all'" rel="stylesheet"/>
<link href="../../ayu-highlight.css" media="print" onload="this.media='all'" rel="stylesheet"/>
<noscript>
<link href="../../highlight.css" rel="stylesheet"/>
<link href="../../tomorrow-night.css" rel="stylesheet"/>
<link href="../../ayu-highlight.css" rel="stylesheet"/>
</noscript>
<!-- Custom theme stylesheets -->
<link href="../../sidebar.css" media="print" onload="this.media='all'" rel="stylesheet"/>
<noscript><link href="../../sidebar.css" rel="stylesheet"/></noscript>
</meta></head>
<body>
<!-- Provide site root to javascript -->
<script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>
<!-- Work around some values being stored in localStorage wrapped in quotes -->
<script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>
<!-- Set the theme before any content is loaded, prevents flash -->
<script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>
<!-- Hide / unhide sidebar before it is displayed -->
<script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>
<nav aria-label="Table of contents" class="sidebar" id="sidebar">
<div class="sidebar-scrollbox">
<ol class="chapter"><li class="chapter-item expanded affix"><a href="../../index.html">privacy.noarch</a></li><li class="chapter-item expanded affix"><a href="../../SUMMARY.html">目錄</a></li><li class="chapter-item expanded affix"><div>前言</div></li><li class="chapter-item expanded"><div><strong aria-hidden="true">1.</strong> 在開始前</div></li><li><ol class="section"><li class="chapter-item expanded"><a href="../../Fundamentals/BasicOfTheBasics.html"><strong aria-hidden="true">1.1.</strong> 常見錯誤集合：線上安全基本原則</a></li></ol></li><li class="chapter-item expanded"><div><strong aria-hidden="true">2.</strong> 從可信的來源安裝軟體</div></li><li><ol class="section"><li class="chapter-item expanded"><div><strong aria-hidden="true">2.1.</strong> [Android] F-Droid</div></li><li class="chapter-item expanded"><div><strong aria-hidden="true">2.2.</strong> [Android] Aurora Store</div></li></ol></li><li class="chapter-item expanded"><div><strong aria-hidden="true">3.</strong> 安全地使用瀏覽器上網</div></li><li><ol class="section"><li class="chapter-item expanded"><a href="../../Browsers/Bromite/Bromite.html"><strong aria-hidden="true">3.1.</strong> [Android] Bromite</a></li><li class="chapter-item expanded"><div><strong aria-hidden="true">3.2.</strong> [Desktop/All] Firefox</div></li><li><ol class="section"><li class="chapter-item expanded"><div><strong aria-hidden="true">3.2.1.</strong> 使用外掛來增強瀏覽體驗 ^</div></li></ol></li><li class="chapter-item expanded"><div><strong aria-hidden="true">3.3.</strong> [Desktop/All]Tor Browser ^</div></li></ol></li><li class="chapter-item expanded"><a href="../../Input/Input.html"><strong aria-hidden="true">4.</strong> 自由打字，打字自由</a></li><li><ol class="section"><li class="chapter-item expanded"><a href="../../Input/NoNetworkAccess/NoNetworkAccess.html"><strong aria-hidden="true">4.1.</strong> [Android] 禁止輸入法聯網</a></li><li class="chapter-item expanded"><div><strong aria-hidden="true">4.2.</strong> 同文輸入法 (TRIME) ^</div></li></ol></li><li class="chapter-item expanded"><a href="../../Passwords/Passwords.html"><strong aria-hidden="true">5.</strong> 帳號安全：保護，隔離，整理</a></li><li><ol class="section"><li class="chapter-item expanded"><a href="../../Passwords/PasswordManagers.html"><strong aria-hidden="true">5.1.</strong> 讓密碼管理器幫你記住密碼</a></li><li><ol class="section"><li class="chapter-item expanded"><div><strong aria-hidden="true">5.1.1.</strong> [Android] Bitwarden</div></li><li class="chapter-item expanded"><a href="../../Passwords/BitwardenWeb/BitwardenWeb.html"><strong aria-hidden="true">5.1.2.</strong> [Web] Bitwarden</a></li><li class="chapter-item expanded"><div><strong aria-hidden="true">5.1.3.</strong> [Desktop/All] KeePassXC ^</div></li></ol></li><li class="chapter-item expanded"><div><strong aria-hidden="true">5.2.</strong> 二步驗證 - 增強帳號安全</div></li><li><ol class="section"><li class="chapter-item expanded"><div><strong aria-hidden="true">5.2.1.</strong> [Android] andOTP</div></li><li class="chapter-item expanded"><div><strong aria-hidden="true">5.2.2.</strong> [Desktop/All] KeePassXC 的二步驗證功能</div></li></ol></li></ol></li><li class="chapter-item expanded"><a href="../../WallBreak/WallBreak.html"><strong aria-hidden="true">6.</strong> 突破網路長城</a></li><li><ol class="section"><li class="chapter-item expanded"><div><strong aria-hidden="true">6.1.</strong> 代理提供商</div></li><li class="chapter-item expanded"><div><strong aria-hidden="true">6.2.</strong> 代理工具 ^</div></li><li><ol class="section"><li class="chapter-item expanded"><div><strong aria-hidden="true">6.2.1.</strong> V2Ray</div></li><li class="chapter-item expanded"><div><strong aria-hidden="true">6.2.2.</strong> Trojan</div></li><li class="chapter-item expanded"><div><strong aria-hidden="true">6.2.3.</strong> Shadowsocks*</div></li></ol></li></ol></li><li class="chapter-item expanded"><div><strong aria-hidden="true">7.</strong> 在享受自由言論之前：“分裂人格”的魅力</div></li><li><ol class="section"><li class="chapter-item expanded"><a href="../../Identities/iYP_DID/iYP_DID.html"><strong aria-hidden="true">7.1.</strong> [轉載] 分身術完整指南：妥善管理您的線上身份並獲得安全的方法</a></li><li class="chapter-item expanded"><a href="../../Identities/WorldIsMine/WorldIsMine.html"><strong aria-hidden="true">7.2.</strong> [轉載] 一個網友的“個人網路身份整改方案”</a></li></ol></li><li class="chapter-item expanded"><div><strong aria-hidden="true">8.</strong> 在網路圍牆外社交</div></li><li><ol class="section"><li class="chapter-item expanded"><div><strong aria-hidden="true">8.1.</strong> 中心化</div></li><li><ol class="section"><li class="chapter-item expanded"><div><strong aria-hidden="true">8.1.1.</strong> [All] Telegram</div></li><li class="chapter-item expanded"><a href="../../RTC/Signal/Signal.html"><strong aria-hidden="true">8.1.2.</strong> [Android] Signal</a></li></ol></li><li class="chapter-item expanded"><div><strong aria-hidden="true">8.2.</strong> 去中心化 ^</div></li><li><ol class="section"><li class="chapter-item expanded"><div><strong aria-hidden="true">8.2.1.</strong> [Android/iOS] Matrix/Element</div></li><li class="chapter-item expanded"><div><strong aria-hidden="true">8.2.2.</strong> [Web] Matrix/Element</div></li></ol></li></ol></li><li class="chapter-item expanded"><div><strong aria-hidden="true">9.</strong> 私密地傳送和接收郵件</div></li><li><ol class="section"><li class="chapter-item expanded"><div><strong aria-hidden="true">9.1.</strong> 郵件提供商</div></li><li><ol class="section"><li class="chapter-item expanded"><div><strong aria-hidden="true">9.1.1.</strong> [Web] ProtonMail</div></li><li class="chapter-item expanded"><div><strong aria-hidden="true">9.1.2.</strong> [Web] Tutanota</div></li></ol></li><li class="chapter-item expanded"><div><strong aria-hidden="true">9.2.</strong> 郵件客戶端 ^</div></li><li><ol class="section"><li class="chapter-item expanded"><div><strong aria-hidden="true">9.2.1.</strong> [Android] K-9 Mail</div></li><li class="chapter-item expanded"><div><strong aria-hidden="true">9.2.2.</strong> [Desktop/All] Thunderbird</div></li></ol></li></ol></li><li class="chapter-item expanded"><a href="../../Encryption/Encryption.html"><strong aria-hidden="true">10.</strong> 加密，加密一切</a></li><li><ol class="section"><li class="chapter-item expanded"><a class="active" href="../../Encryption/Pubkey/Pubkey.html"><strong aria-hidden="true">10.1.</strong> [翻譯] 公鑰加密簡介</a></li><li class="chapter-item expanded"><a href="../../Encryption/OpenKeychain/OpenKeychain.html"><strong aria-hidden="true">10.2.</strong> [Android] PGP: OpenKeychain</a></li></ol></li><li class="chapter-item expanded"><div><strong aria-hidden="true">11.</strong> Android 玩機技巧 ^</div></li><li><ol class="section"><li class="chapter-item expanded"><div><strong aria-hidden="true">11.1.</strong> 系統設定</div></li><li class="chapter-item expanded"><div><strong aria-hidden="true">11.2.</strong> “刷機”基礎</div></li><li><ol class="section"><li class="chapter-item expanded"><div><strong aria-hidden="true">11.2.1.</strong> 深入瞭解自己的裝置</div></li><li class="chapter-item expanded"><div><strong aria-hidden="true">11.2.2.</strong> 選擇第三方 ROM</div></li></ol></li><li class="chapter-item expanded"><div><strong aria-hidden="true">11.3.</strong> Magisk</div></li><li class="chapter-item expanded"><div><strong aria-hidden="true">11.4.</strong> microG</div></li></ol></li><li class="chapter-item expanded"><div><strong aria-hidden="true">12.</strong> Windows 玩機技巧 ^</div></li><li><ol class="section"><li class="chapter-item expanded"><a href="../../Tricks-Windows/VHD/VHD.html"><strong aria-hidden="true">12.1.</strong> 使用 VHD(X) 部署原生多系統 ^</a></li></ol></li><li class="chapter-item expanded"><div><strong aria-hidden="true">13.</strong> 類 Unix 玩機技巧 ^</div></li><li><ol class="section"><li class="chapter-item expanded"><a href="../../Tricks-Unix/dos-donts/dos-donts.html"><strong aria-hidden="true">13.1.</strong> 網上教程不會告訴你的類 Unix 使用注意事項</a></li></ol></li><li class="chapter-item expanded"><div>後記</div></li><li class="chapter-item expanded affix"><a href="../../CONTRIBUTING.html">反饋與貢獻</a></li></ol>
<!-- mods to the vanilla sidebar-->
<hr/>
<p>© 2020-2021 <code>privacy.noarch</code> project.</p>
<p><b>無廣告，無追蹤，無跨站請求，可退出的 CDN.</b> privacy.noarch 致力於維持網際網路該有的樣子。</p>
<p><a href="https://t.me/privacy_noarch" target="_blank"><img height="20" src="/images/badge-telegram.svg"/></a></p>
<p><a href="https://github.com/noarchwastaken/privacy" target="_blank"><img height="20" src="/images/badge-git.svg"/></a></p>
<p><a href="https://www.gnu.org/licenses/fdl-1.3.html" target="_blank"><img height="20" src="/images/badge-gfdl.svg"/></a></p>
</div>
<div class="sidebar-resize-handle" id="sidebar-resize-handle"></div>
</nav>
<div class="page-wrapper" id="page-wrapper">
<div class="page">
<div id="menu-bar-hover-placeholder"></div>
<div class="menu-bar sticky bordered" id="menu-bar">
<div class="left-buttons">
<button aria-controls="sidebar" aria-label="Toggle Table of Contents" class="icon-button" id="sidebar-toggle" title="Toggle Table of Contents" type="button">
<i class="fa fa-bars"></i>
</button>
<button aria-controls="theme-list" aria-expanded="false" aria-haspopup="true" aria-label="Change theme" class="icon-button" id="theme-toggle" title="Change theme" type="button">
<i class="fa fa-paint-brush"></i>
</button>
<ul aria-label="Themes" class="theme-popup" id="theme-list" role="menu">
<li role="none"><button class="theme" id="light" role="menuitem">Light (default)</button></li>
<li role="none"><button class="theme" id="rust" role="menuitem">Rust</button></li>
<li role="none"><button class="theme" id="coal" role="menuitem">Coal</button></li>
<li role="none"><button class="theme" id="navy" role="menuitem">Navy</button></li>
<li role="none"><button class="theme" id="ayu" role="menuitem">Ayu</button></li>
</ul>
</div>
<h1 class="menu-title">privacy.noarch</h1>
<div class="right-buttons">
<a aria-label="Switch between Simplified and Traditional Chinese" class="icon-button" onclick="
                        'use strict';

                        const CN_CLEAR = 'privacy.n0ar.ch';
                        const TW_CLEAR = 'privacy-tw.n0ar.ch';
                        const CN_TOR = 'fluffyvv5b7iztvxxpu23ylr3o7dxgcgszqx5eb7drk35jyzkrk5q2ad.onion';
                        const TW_TOR = 'tw.fluffyvv5b7iztvxxpu23ylr3o7dxgcgszqx5eb7drk35jyzkrk5q2ad.onion';

                        switch (window.location.hostname) {
                            case CN_CLEAR:
                                window.location.hostname = TW_CLEAR;
                                break;
                            case TW_CLEAR:
                                window.location.hostname = CN_CLEAR;
                                break;
                            case CN_TOR:
                                window.location.hostname = TW_TOR;
                                break;
                            case TW_TOR:
                                window.location.hostname = CN_TOR;
                                break;
                            default:
                                window.alert('Error determining current site language.\nI\'m either being served locally, or running as a mirror.\n\nIf you are running a mirror, please change the hostnames on line ~166 in theme/index.hbs.');
                                break;
                        }
                        " title="Switch between Simplified and Traditional Chinese">
<strong>簡/繁</strong>
</a>
<a aria-label="Git repository" href="https://github.com/noarchwastaken/privacy" title="Git repository">
<i class="fa fa-github" id="git-repository-button"></i>
</a>
</div>
</div>
<!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
<script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>
<div class="content" id="content">
<main>
<!-- Page table of contents -->
<div class="sidetoc"><nav class="pagetoc"></nav></div>
<h1 id="公鑰加密簡介"><a class="header" href="#公鑰加密簡介">公鑰加密簡介</a></h1>
<p>翻自 <a href="https://ssd.eff.org/en/module/deep-dive-end-end-encryption-how-do-public-key-encryption-systems-work"><em>A Deep Dive on End-to-End Encryption: How Do Public Key Encryption Systems Work?</em></a>, EFF.</p>
<hr/>
<p>如果你會正確使用端到端加密，它可以防止你傳送的訊息、文字甚至檔案被除了參與者之外的人檢視。端到端加密同樣也可以保證你收到的訊息來自一個特定的人，而沒有被篡改。</p>
<p>過去幾年中，各類工具讓使用端到端加密越發簡單。比如 Signal 就是一個應用端到端加密的通訊工具 - 你可以通過 Signal 聊天，收發檔案，或是打語音/視訊電話。這些安全的通訊工具在傳送人和接收人之間使用端到端加密來加密資訊。加密使得網上的竊聽者只能讀到一堆無意義的垃圾。你用的網路提供商甚至就可能是竊聽者之一。</p>
<p>儘管現在有很多方便使用的端到端加密工具，有一些端到端加密的實現還不是那麼容易理解和使用。因此我們建議你在利用加密增強你的線上隱私之前，先了解公鑰加密，或是非對稱加密的一些基本知識。</p>
<p>本教程要講解的加密型別，也是端到端加密所依賴的型別，叫做公鑰加密。關於其它型別的加密，你可以閱讀我們的另外一篇教程：<a href="https://ssd.eff.org/en/module/what-should-i-know-about-encryption">What Should I Know About Encryption?</a></p>
<p>在本文中，你會了解一些非常重要的資訊，比如公鑰加密的能力和限制。這些知識能讓你在正確的時間用正確的方法使用公鑰加密 - 總而言之，讓你能更有效地使用公鑰加密。</p>
<h2 id="加密是什麼"><a class="header" href="#加密是什麼">加密是什麼？</a></h2>
<p>我們來舉個例子，比如你要加密傳送一條訊息：</p>
<ol>
<li>
<p>一條清晰可讀的資訊，比如（“嗨，媽媽”）， 被加密編碼成一個沒人看得懂的資訊 ("OhsieW5ge+osh1aehah6").</p>
</li>
<li>
<p>加密後的資訊經由網際網路傳輸。如果有人嘗試閱讀這條資訊，他們只能讀到看不懂的 ("OhsieW5ge+osh1aehah6").</p>
</li>
<li>
<p>當這條資訊到達目的地，我們預期的收件人有某種辦法將資訊解密回原始資訊（“嗨，媽媽”）。</p>
</li>
</ol>
<h2 id="對稱加密用單個金鑰傳小紙條的故事"><a class="header" href="#對稱加密用單個金鑰傳小紙條的故事">對稱加密：用單個金鑰傳小紙條的故事</a></h2>
<p>Julia 想給 César 傳一個小紙條，告訴他 "Meet me in the garden"（課後在花園見面），但她不想讓紙條經手的同學讀到其中的內容。</p>
<p><img alt="" loading="lazy" src="images/1_0.webp"/></p>
<p>Julia 在傳紙條到 César 的過程中需要經手一堆愛管閒事的同學，它們都會把紙條瞄一眼再傳遞到下一個人。並且他們也會在傳下去之前把資訊記下來，同時寫上 Julia 給 César 傳紙條的時間。</p>
<p><img alt="" loading="lazy" src="images/2_0.webp"/></p>
<p>為了應對這個問題，Julia 打算把她的資訊用數值為 3 的金鑰加密，將每個字母在字母表中向下移動三位。這樣 A 會變成 D, B 會變成 E, etc. 不過這麼簡單的金鑰加密後的文字很容易被“暴力破解”。暴力破解，意思是攻擊者不斷嘗試所有可能的金鑰組合，直到資訊能被正確解密為止。</p>
<p><img alt="" loading="lazy" src="images/3_0.webp"/></p>
<p>這種將資訊從字母表上偏移三位的古老方法曾被“羅馬共和國的獨裁者” <em>尤利烏斯·凱撒</em> 使用，稱之為凱撒密碼。凱撒密碼是對稱加密的一個代表：它將資訊在字母表上偏移三位來加密，同時也在字母表上反向偏移三位來解密。</p>
<p>從上面的例子你也可以看到，凱撒密碼在密碼學上是一種非常弱的加密方式。幸運的是，凱撒密碼起，加密已經走了很長一段路。得益於各種數學演算法和計算機的幫助，當下的金鑰可以比這長得多，而且要遠遠難以猜測。對稱加密經歷了非常長的發展，並且在許多領域都有實際應用。</p>
<p>然而，對稱加密有一個致命的問題：如果有人直接等 Julia 和 César 交換金鑰並從中竊聽，然後偷走這個金鑰並用其解密資訊呢？如果 Julia 和 César 在世界兩端，並且沒有計劃見面呢？</p>
<p>我們假設 Julia 和 César 得知了公鑰加密的存在。公鑰加密讓竊聽者很難竊取解密金鑰 - 因為他們根本不需要分享解密金鑰。在公鑰加密中，加密和解密使用不同的金鑰。</p>
<h2 id="公鑰加密兩把鑰匙的故事"><a class="header" href="#公鑰加密兩把鑰匙的故事">公鑰加密：兩把鑰匙的故事</a></h2>
<p>我們來更深入地看下這個問題：傳送者到底如何安全地將解密金鑰傳送到接收者手裡？這個問題在長距離傳輸中尤其致命，因為交流的兩方無法面對面私密地交換金鑰。</p>
<p>對於這個問題，公鑰加密有一套優雅的解決方案。在公鑰加密聊天中，每個人建立兩個金鑰 - 私鑰和公鑰。它們都是兩個非常大的數字，並且由一些數學性質相關聯。如果你用一個人的公鑰加密訊息，那麼他就可以用對應的私鑰解密這個訊息。</p>
<p>Julia 和 César 現在不傳紙條了，而是在兩臺電腦上使用公鑰加密聊天。幫他們傳紙條的同學，現在變成了在他們加密通訊中的計算機。下面是 Julia 和 César 的中間人：他們的 Wi-Fi 路由器，網際網路運營商，還有他們的郵箱服務。在現實中，他們之間可能有數百臺計算機在複製並且儲存他們傳送的訊息。</p>
<p><img alt="" loading="lazy" src="images/4_0.webp"/></p>
<p>Julia 和 César 對於中間人知道他們在聊天這件事並不關心，不過他們希望訊息本身是私密的。</p>
<p>首先，Julia 需要 César 的公鑰。César 可以把他的公鑰通過一個不安全的方式，比如未加密的 email 傳輸。因為公鑰是可以隨意分享的，所以 César 根本不用管中間人能不能看到他的公鑰。注意，在公鑰身上，“金鑰”的比喻其實不太恰當：公鑰其實不太像現實中的鑰匙，而更像一把很難被逆向破解的鎖。為了防止中間人在金鑰交換過程中將 César 的金鑰調包成中間人的，César 同時通過多種渠道與 Julia 交換和驗證金鑰。</p>
<p><img alt="" loading="lazy" src="images/5_0.webp"/></p>
<p>Julia 收到了 César 的金鑰，現在她可以給 César 發一條加密的訊息了！她現在用 César 的公鑰寫道："Meet me in the garden."</p>
<p>然後她將這個只為 César 加密的資訊發了出去。</p>
<p><img alt="" loading="lazy" src="images/6_0.webp"/></p>
<p>現在除了 Julia 和 César 之外沒人能理解這條訊息，因為這個訊息在他人眼裡就是一團亂麻。不過中間人依然可以看到未加密的元資料，比如標題、日期，以及發件和收件人。</p>
<p><img alt="" loading="lazy" src="images/7_0.webp"/></p>
<p>因為這條資訊使用了 César 的公鑰加密，理論上只有 César 和發件者 (Julia) 可以讀取。Julia 有著未加密的原文，而 César 則可以用他的私鑰解密訊息。</p>
<p><img alt="" loading="lazy" src="images/8_0.webp"/></p>
<p>我們來回顧一下。在公鑰加密裡：</p>
<ul>
<li>公鑰加密讓用於加密的公鑰能在開放，不安全的環境下傳輸</li>
<li>要給好友發加密的訊息，你需要有他們的公鑰</li>
<li>你的私鑰用於解密發給你的加密訊息</li>
<li>中間人 - 比如郵件提供商，網路運營商，還有網路上的計算機 - 依然全程可以看到未加密的元資料。這些元資料包括誰在和誰聊天，資訊在什麼時候被接收，標題是什麼，資訊是加密的... 等等。</li>
</ul>
<h2 id="還有一個問題冒名頂替"><a class="header" href="#還有一個問題冒名頂替">還有一個問題：冒名頂替</a></h2>
<p>在 Julia 和 César 的例子裡，中間人能全程看到訊息的元資料。</p>
<p>我們假設中間人裡面有一個壞蛋。壞蛋的意思也不用多解釋：一個嘗試竊取你的資訊並傷害你的人。這個壞蛋因為某些原因想要偷窺 Julia 和 César 的通訊。</p>
<p>我們再假設這個壞蛋成功地騙過了 Julia, 使她拿走了壞蛋的公鑰而不是 César 的公鑰。Julia 沒有意識到這點，讓這個壞蛋能接到她的訊息，偷看一眼，然後再把資訊轉給 César.</p>
<p><img alt="" loading="lazy" src="images/9_0.webp"/></p>
<p>這個壞蛋甚至可以在把資訊轉給 César 之前修改其中的內容。</p>
<p><img alt="" loading="lazy" src="images/10_0.webp"/></p>
<p>不過大部分時候這個壞蛋還是會把資訊原封不動地轉達給 César. 這樣他就能讓 Julia 和 César 都不知道他的存在，César 如約前往花園和 Julia 見面 - 草，壞蛋怎麼也在這？</p>
<p><img alt="" loading="lazy" src="images/11_0.webp"/></p>
<p>這種行為也被稱為中間人攻擊。幸運的是，公鑰加密有辦法阻止這種攻擊。</p>
<p>公鑰加密有一個驗證機制，叫做“指紋”。通過比對金鑰指紋，你可以搞清楚一個金鑰的真實歸屬。這個比對的過程最好在現實中完成 - 你將兩臺包含同一個公鑰的裝置放在一起，並且比較兩臺裝置上指紋的每一個字元。這樣做有點煩，不過為了保證通訊安全，它是絕對值得的。</p>
<p>對於一些非對稱加密實現，你也可以通過裝置上顯示的二維碼來比對指紋。在這種情況下，你只需要讓裝置互相掃碼就可以驗證指紋。</p>
<p><img alt="" loading="lazy" src="images/12_0.webp"/></p>
<p>如果你無法面對面交換金鑰，你也可以將指紋通過一個相對安全的通道傳輸，比如一個本身就端到端加密的及時通訊或是一個 HTTPS 的站點。</p>
<p>下面的例子裡，César 用另一個端到端加密的及時通訊和 Julia 交換金鑰指紋：</p>
<p><img alt="" loading="lazy" src="images/13_0.webp"/></p>
<p><img alt="" loading="lazy" src="images/14_0.webp"/></p>
<p>回顧：</p>
<ul>
<li>中間人攻擊，指你的資訊被與聊天無關的攻擊者讀取。這個攻擊者可以選擇篡改資訊，或是簡單地竊聽。</li>
<li>公鑰加密可以通過指紋驗證來確認傳送和接收者的身份，進而有效對抗中間人攻擊。</li>
<li>你好友的公鑰除了用來加密資訊以外，還包含一個公鑰指紋。你可以通過這個指紋來確定你好友的身份。</li>
<li>私鑰也可以拿來加密資訊，或是給資訊簽名 - 我們接下來會講這個。</li>
</ul>
<h2 id="簽名恆久遠一塊永流傳"><a class="header" href="#簽名恆久遠一塊永流傳">簽名恆久遠，一塊永流傳</a></h2>
<p>公鑰加密讓你不需要擁有接收者的解密金鑰就可以加密資訊。因為公鑰只能用於加密資訊，你用這個可以和任何人分享的公鑰加密，對方則用只有自己知道的私鑰解密。</p>
<p>等等，還~有~一~件~事！</p>
<p>我們知道，使用公鑰加密的資訊可以用私鑰解密，但你知道它反過來也成立嗎？如果你用私鑰加密一個資訊，那麼這個資訊可以也只可以用你的公鑰解密。</p>
<p>你可能會想，這不是沒卵用嗎？因為你的公鑰是公開的，你用私鑰加密的資訊可以被任何人讀取。但請假設一個情況。你寫了一個資訊，內容是“我承諾付給張三一百塊錢”，然後你用你的私鑰加密了這個資訊。任何人都可以解密 - 但只可能是你寫了這條資訊，因為只有你有解密公鑰的對應私鑰。換句話來說，你做的事情就相當於在現實中給資訊簽名，保證這個資訊只可能來自你。</p>
<p>簽名還能保證沒人能篡改你的資訊。如果有人想把你的“我承諾付給張三一百塊錢”改成“我承諾付給李四一百塊錢”，因為這個人沒有你的私鑰，他也沒法重新將資訊簽名。所以，給資訊簽名能保證資訊的來源真實，而沒有被篡改。</p>
<h2 id="回顧使用公鑰加密"><a class="header" href="#回顧使用公鑰加密">回顧：使用公鑰加密</a></h2>
<p>我們來回顧一下。公鑰加密讓你能跟任何你擁有公鑰的人傳送加密資訊。</p>
<p>如果別人知道你的公鑰：</p>
<ul>
<li>
<p>他們也可以給你發只有你能解密的資訊</p>
</li>
<li>
<p>你可以用你的私鑰給資訊簽名，保證這個資訊來自於你並且沒有被篡改</p>
</li>
</ul>
<p>如果你知道一個人的公鑰：</p>
<ul>
<li>你也可以通過他們的公鑰驗證一個資訊來自他們。</li>
</ul>
<p>現在你應該清楚，知道你公鑰的人越多，公鑰加密對於你而言就更有用。<del>公鑰是可以像電話號碼一樣隨意分享的，你可以把它隨意分享給想和你加密聊天的人，而不用擔心中間有誰看到了你的公鑰。</del></p>
<blockquote>
<p><i aria-hidden="true" class="fa fa-exclamation-triangle"></i> noarch 注0：如果端到端加密在你所在的地區非法，或是有人禁止你使用加密通訊，那麼你最好不要“公開”有關你真實身份的公鑰；否則敵人可能只因為你在使用加密通訊這件事就可以逮捕你。</p>
</blockquote>
<p>在一對金鑰中，公鑰對應其私鑰。私鑰才是你要真正好好保管的“鑰匙”。它可以用來解密，或加密（簽名）訊息。</p>
<blockquote>
<p><i aria-hidden="true" class="fa fa-exclamation-triangle"></i> 私鑰一定要安全保管。如果你不小心刪除了你的私鑰，或是丟失了儲存它的裝置，你將無法解密訊息。如果有人通過投放病毒或是通過偷走你裝置的方式獲取了私鑰，他們也可以解密你的資訊。同樣地，他們也能假裝你簽名信息。</p>
</blockquote>
<blockquote>
<p><i aria-hidden="true" class="fa fa-exclamation-triangle"></i> 政府竊取人們私鑰的行為並不新鮮。他們可以勒索人們的電腦，利用後門或是釣魚等方式投放病毒來竊取目標的私鑰。一旦你的私鑰被竊取，所有公鑰加密給你提供的安全和隱私保護就消失了。這就好比你在家門上安裝了一把撬不開的鎖，但有人偷走並複製了你的鑰匙。在這種情況下，他們無需撬鎖就可以暢通無阻地闖入你家。</p>
</blockquote>
<p>說到底，公鑰加密的安全性取決於你在對抗誰的監控，這叫做威脅建模：知道你的敵人是誰，並且針對性地防禦他們。比如如果你想讓你的私鑰在黑客面前難以獲取，你就不應該使用瀏覽器外掛來進行端到端加密，而是改用隔離、斷網的儲存。這樣你的私鑰就真正儲存在自己的裝置上，而不是存在一些“雲端儲存”上。</p>
<h2 id="公鑰加密的實際應用pgp"><a class="header" href="#公鑰加密的實際應用pgp">公鑰加密的實際應用：PGP</a></h2>
<p>我們剛剛用兩個不同的概念介紹了公鑰加密和對稱加密。然而，其實公鑰加密背後也使用對稱加密！公鑰加密中的私鑰使用對稱加密，然後這個加密後的私鑰可以被用於解密實際的訊息。</p>
<p>PGP 則是一例同時使用對稱加密和公鑰（非對稱）加密的協議。功能上，如果你使用 PGP, 你應該對公鑰加密的使用非常熟悉了。</p>
<h2 id="金鑰到底是什麼公鑰和私鑰的關係是什麼"><a class="header" href="#金鑰到底是什麼公鑰和私鑰的關係是什麼">“金鑰”到底是什麼？公鑰和私鑰的關係是什麼？</a></h2>
<p>要進行公鑰加密，前提得有兩個金鑰：一個用於加密，一個用於解密。</p>
<p><del>我們說到了，用於加密的公鑰可以隨意分享：你可以把它隨意散播，例如放在一個金鑰伺服器上，這樣人們才能給你發加密訊息。隨意散播公鑰不會破壞你加密資訊的安全。</del></p>
<blockquote>
<p><i aria-hidden="true" class="fa fa-exclamation-triangle"></i> noarch 注1：見<a href="#%E5%9B%9E%E9%A1%BE%E4%BD%BF%E7%94%A8%E5%85%AC%E9%92%A5%E5%8A%A0%E5%AF%86">回顧：使用公鑰加密</a></p>
</blockquote>
<p><img alt="" loading="lazy" src="images/15_0.webp"/></p>
<p>與公鑰對應的是另一個檔案，私鑰。與公鑰相比，私鑰才是一把真正需要保護的“鑰匙”，它同時可以用來簽名（加密）和解密資訊。</p>
<p>我們來詳細看看一個公鑰加密演算法：RSA (Rivest-Shamir-Adleman). PGP 一般使用 RSA 生成金鑰對。</p>
<p><img alt="" loading="lazy" src="images/16_0.webp"/></p>
<p><img alt="" loading="lazy" src="images/17_0.webp"/></p>
<p>在金鑰生成時，公鑰和私鑰是一起生成的，並且緊密聯絡：它們都依賴一組非常大的質數。私鑰代表其中兩個質數；而你可以想象公鑰是這兩個質數的商，它可以輕易由私鑰中的這兩個質數得出，而攻擊者很難通過公鑰的這個數反推出私鑰原有的兩個質數。</p>
<p>這個問題叫做質數分解，一些公鑰加密的實現通過質數分解的難度來保證安全性。現代加密技術使用隨機生成的質數，並且這個質數大到可怕，人類和計算機都很難猜出來。</p>
<p>最重要的是，公鑰加密讓人們能夠通過不安全的方式交換公鑰，並從此開始加密通訊！在這個過程中，用於解密的私鑰從來不會出現在網際網路上，因為加密只需要專門用於加密的公鑰。</p>
<p>記住：要在兩個人之間使用公鑰加密，你們需要互相擁有對方的公鑰。</p>
<p>當然你也可以用另一種方法來想象公鑰加密：它們之間的關係就像陰和陽的關係，但糾纏得清。</p>
<p><img alt="" loading="lazy" src="images/18_0.webp"/></p>
<p><del>公鑰可以隨意散播。你可以把它給任何人 - 如果你不怕公鑰包含自己的郵箱地址，你可以把它放在個人部落格上，你甚至可以把它放在社交媒體上...</del></p>
<blockquote>
<p><i aria-hidden="true" class="fa fa-exclamation-triangle"></i> noarch 注2：根據各地區的法律法規不同，在散播之前請檢查這樣做的風險。以中國為例，因為公鑰包含你的郵箱地址（你使用的郵箱可能是翻牆獲取的，這是一個“我在翻牆”的訊號），noarch 不建議將公鑰放在金鑰伺服器上，或是在微博 / 微信朋友圈等地傳播。請僅在必要時單獨發給需要加密通訊的人，至少讓你的加密通訊不那麼顯眼。</p>
<p>原文這麼說是因為筆者假設你居住在美國，而美國及其各州法律目前允許端到端加密通訊。</p>
</blockquote>
<p>你需要安全地儲存私鑰。你只有一個私鑰，所以絕對不要意外丟失它，或者隨意複製；絕對不要分享它，或者以任何方式將其在網際網路上傳輸，因為這樣做會傷害這個金鑰對的安全性。</p>
<blockquote>
<p>noarch 注3：原文“你只有一個私鑰”意為一個金鑰對中只能有一個私鑰。你可以擁有不同的身份，而這些不同的，隔離的身份之間需要有不同的金鑰對，這樣敵人無法將這些身份簡單地連線起來。</p>
</blockquote>
<h2 id="pgp-如何工作"><a class="header" href="#pgp-如何工作">PGP 如何工作</a></h2>
<p>說了這麼多，我們來以 PGP 為例子，具體看看公鑰加密如何工作。我們假設你要給張三發一個加密訊息：</p>
<ol>
<li>
<p>張三生成了一堆金鑰並擁有其私鑰，他把公鑰放在了它應用了 HTTPS 加密的個人網站上。</p>
</li>
<li>
<p>你從張三的網站上下載並匯入了張三的公鑰。</p>
</li>
<li>
<p>你用張三的公鑰加密了訊息，然後將加密後的訊息發給了他。</p>
</li>
<li>
<p>因為只有張三有他自己的私鑰，除了他之外沒人能看到你給他的加密訊息。</p>
</li>
</ol>
<p>PGP (Pretty Good Privacy) 最具標誌性的功能就是其生成金鑰對的過程。你用它生成一個金鑰對，然後用密碼保護這個金鑰對中的私鑰。你可以用你的私鑰來簽名，或是用你的公鑰來加密訊息。</p>
<h2 id="元資料公鑰加密的限制"><a class="header" href="#元資料公鑰加密的限制">元資料：公鑰加密的限制</a></h2>
<p>PGP 的主要功能就是保護資訊的內容私密，真實且未被篡改。不過你要考慮的隱私問題遠不止這些。綜上所述，元資料洩露的隱私可能和加密後內容本身洩露的隱私一樣多。</p>
<p>比如，如果你和你所在地區已知的異議分子交談，光是與它們通訊，即使資訊未被解密，就可能將你置於危險之中。在某些國家和地區，光是拒絕解密訊息這點你就可能被判處監禁。</p>
<p>實際上，保持匿名（“誰與誰通訊”）比保持隱私（“內容是什麼”）要難得多。在 PGP 的例子裡，一個保持匿名的方法就是讓雙方都使用 Tor, 並搭配一個匿名註冊的郵箱。這種情況下，在 Tor 的匿名保護之上，PGP 依然能保持資訊的隱祕性和真實性。</p>
<blockquote>
<p>noarch 注4：如果你在中國，你無法直接使用 Tor. <code>privacy.noarch</code> 講解了繞過審查訪問 Tor 的方法。</p>
</blockquote>
<p>現在你熟悉了公鑰加密的基礎，你可以試試一些公鑰加密工具了！</p>
<p>試試 <a href="">[Android/iOS] Signal</a>, 
<a href="../OpenKeychain/OpenKeychain.html">[Android] OpenKeychain</a>, 或是 <a href="">[Desktop/All] Thunderbird</a>.</p>
<hr/>
<p><a href="https://ssd.eff.org/en/module/deep-dive-end-end-encryption-how-do-public-key-encryption-systems-work">原文</a>使用 <a href="https://creativecommons.org/licenses/by/3.0/us/">CC BY 3.0 US</a> 許可協議授權；本譯文使用 <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> 許可協議授權。</p>
<p>本譯文部分參考現有（過時）的譯文：<a href="https://ocftw.github.io/ssd.eff.org/zh_TW/module/introduction-public-key-cryptography-and-pgp.html">公開金鑰加密和 PGP 簡介</a>，由臺灣開放文化基金會及其志工翻譯。</p>
<p><code>privacy.noarch</code> 與原文釋出者<em>電子前哨基金會</em>無隸屬關係；轉載本譯文請同時註明本文和原文。</p>
</main>
<nav aria-label="Page navigation" class="nav-wrapper">
<!-- Mobile navigation buttons -->
<a aria-keyshortcuts="Left" aria-label="Previous chapter" class="mobile-nav-chapters previous" href="../../Encryption/Encryption.html" rel="prev" title="Previous chapter">
<i class="fa fa-angle-left"></i>
</a>
<a aria-keyshortcuts="Right" aria-label="Next chapter" class="mobile-nav-chapters next" href="../../Encryption/OpenKeychain/OpenKeychain.html" rel="next" title="Next chapter">
<i class="fa fa-angle-right"></i>
</a>
<div style="clear: both"></div>
</nav>
</div>
</div>
<nav aria-label="Page navigation" class="nav-wide-wrapper">
<a aria-keyshortcuts="Left" aria-label="Previous chapter" class="nav-chapters previous" href="../../Encryption/Encryption.html" rel="prev" title="Previous chapter">
<i class="fa fa-angle-left"></i>
</a>
<a aria-keyshortcuts="Right" aria-label="Next chapter" class="nav-chapters next" href="../../Encryption/OpenKeychain/OpenKeychain.html" rel="next" title="Next chapter">
<i class="fa fa-angle-right"></i>
</a>
</nav>
</div>
<script type="text/javascript">
            window.playground_copyable = true;
        </script>
<script charset="utf-8" src="../../clipboard.min.js" type="text/javascript"></script>
<script charset="utf-8" src="../../highlight.js" type="text/javascript"></script>
<script charset="utf-8" src="../../book.js" type="text/javascript"></script>
<!-- Custom JS scripts -->
<script src="../../sidebar.js" type="text/javascript"></script>
</body>
</html>
